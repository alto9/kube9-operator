{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "argocd": {
      "type": "object",
      "properties": {
        "autoDetect": {
          "type": "boolean",
          "default": true
        },
        "enabled": {
          "type": "boolean"
        },
        "namespace": {
          "type": "string",
          "default": "argocd"
        },
        "selector": {
          "type": "string",
          "default": "app.kubernetes.io/name=argocd-server"
        },
        "detectionInterval": {
          "type": "integer",
          "minimum": 1,
          "maximum": 24,
          "default": 6
        }
      }
    },
    "metrics": {
      "type": "object",
      "description": "Collection metrics configuration",
      "properties": {
        "intervals": {
          "type": "object",
          "description": "Collection interval configuration for testing/debugging. The operator enforces minimum intervals to prevent abuse.",
          "properties": {
            "clusterMetadata": {
              "type": "integer",
              "description": "Cluster metadata collection interval in seconds. Default: 86400 (24 hours). Minimum: 3600 (1 hour). Configurable for testing/debugging purposes.",
              "minimum": 3600,
              "default": 86400
            },
            "resourceInventory": {
              "type": "integer",
              "description": "Resource inventory collection interval in seconds. Default: 21600 (6 hours). Minimum: 1800 (30 minutes). Configurable for testing/debugging purposes.",
              "minimum": 1800,
              "default": 21600
            },
            "resourceConfigurationPatterns": {
              "type": "integer",
              "description": "Resource configuration patterns collection interval in seconds. Default: 43200 (12 hours). Minimum: 3600 (1 hour). Configurable for testing/debugging purposes.",
              "minimum": 3600,
              "default": 43200
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "events": {
      "type": "object",
      "description": "Event storage configuration",
      "properties": {
        "persistence": {
          "type": "object",
          "description": "PersistentVolume configuration for event database",
          "properties": {
            "enabled": {
              "type": "boolean",
              "description": "Enable persistent storage for events",
              "default": true
            },
            "size": {
              "type": "string",
              "description": "Size of the PersistentVolumeClaim",
              "pattern": "^[0-9]+(\\.[0-9]+)?(Ei?|Pi?|Ti?|Gi?|Mi?|Ki?)$",
              "default": "5Gi"
            },
            "storageClassName": {
              "type": "string",
              "description": "StorageClass to use for the PVC. Empty string uses cluster default."
            },
            "accessMode": {
              "type": "string",
              "description": "Access mode for the PVC",
              "enum": ["ReadWriteOnce", "ReadOnlyMany", "ReadWriteMany"],
              "default": "ReadWriteOnce"
            }
          },
          "additionalProperties": false
        },
        "retention": {
          "type": "object",
          "description": "Event retention policies in days",
          "properties": {
            "infoWarning": {
              "type": "integer",
              "description": "Days to retain info and warning events",
              "minimum": 1,
              "default": 7
            },
            "errorCritical": {
              "type": "integer",
              "description": "Days to retain error and critical events",
              "minimum": 1,
              "default": 30
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    }
  }
}

